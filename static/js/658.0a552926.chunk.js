!function(){"use strict";var t={1658:function(t,n,i){var e=i(5861),r=i(5671),a=i(3144),o=i(136),u=i(9388),s=i(7757),c=i.n(s),h=i(9062);function f(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"iid";return t.map((function(t,i){return t[n]=i,t}))}function d(t,n){n=Math.min(t-n,n);for(var i=1,e=1;e<=n;e++)i*=t-n+e,i/=e;return i}var l=function(){function t(n){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Math.random;(0,r.Z)(this,t),this.k=void 0,this.randFn=void 0,this.r=void 0,this.i=void 0,this.finished=void 0,this.k=n,this.randFn=i,this.r=[],this.i=0,this.finished=!1}return(0,a.Z)(t,[{key:"next",value:function(t){if(this.finished&&console.log("warning: call next after finalSample"),"undefined"!==typeof t){if(this.r.length<this.k)this.r.push(t);else{var n=Math.floor(this.randFn()*(this.i+1));n<this.k&&(this.r[n]=t)}this.i+=1}}},{key:"sample",value:function(){return this.r}},{key:"finalSample",value:function(){return function(t){for(var n=t.length-1;n>0;n--){var i=Math.floor(Math.random()*(n+1)),e=[t[i],t[n]];t[n]=e[0],t[i]=e[1]}}(this.r),this.finished=!0,this.r}}]),t}();var v=function(){function t(n){(0,r.Z)(this,t),this.data=void 0,this.data=n.toString()}return(0,a.Z)(t,[{key:"deserialize",value:function(){return Function("'use strict'; return (".concat(this.data,")"))()}}],[{key:"deserialize",value:function(t){return Function("'use strict'; return (".concat(t.data,")"))()}}]),t}(),m=function(){function t(n,i,e){(0,r.Z)(this,t),this.faction=void 0,this.commander=void 0,this.units=void 0,this.faction=n,this.commander=i,this.units=e}return(0,a.Z)(t,[{key:"hasCommander",value:function(t){return this.commander.name===t}},{key:"containsUnitsByName",value:function(t){var n=this;return t.every((function(t){return n.units.map((function(t){return t.name})).includes(t)}))}},{key:"containsUnitByName",value:function(t){return this.containsUnitsByName([t])}},{key:"allUnitsThat",value:function(t){return this.units.every(t)}},{key:"someUnitsThat",value:function(t){return this.units.some(t)}},{key:"nUnitsThat",value:function(t,n){return this.units.filter(n).length===t}},{key:"rangeUnitsThat",value:function(t,n){var i=this.units.filter(n).length;return i>=t[0]&&i<=t[1]}},{key:"atLeastNUnitsThat",value:function(t,n){return this.rangeUnitsThat([t,6],n)}},{key:"atMostNUnitsThat",value:function(t,n){return this.rangeUnitsThat([0,t],n)}},{key:"totalUnitsCost",value:function(t){return this.units.reduce((function(t,n){return t+=n.cost}),0)}}]),t}(),g=function(){function t(n){(0,r.Z)(this,t),this.request=void 0,this.validateFn=void 0,this.sampler=void 0,this.count=void 0,this.request=n,this.validateFn=v.deserialize(n.validateFn)(),this.sampler=new l(n.numDecks),this.count=0}return(0,a.Z)(t,[{key:"finalize",value:function(){return new p(this.request,this.sampler.finalSample(),this.count)}},{key:"finalizeWithError",value:function(t){return new p(this.request,[],-1,t)}}]),t}(),p=(0,a.Z)((function t(n,i,e,a){(0,r.Z)(this,t),this.request=void 0,this.result=void 0,this.count=void 0,this.error=void 0,this.request=n,this.result=i,this.count=e,this.error=a})),y={Infantry:0,Vehicle:1,Air:2,Tech:3,Commander:4},k=function(t,n){return y[t.building]!==y[n.building]?y[t.building]-y[n.building]:t.cost!==n.cost?t.cost-n.cost:t.name>n.name?1:-1},w=["Seth","Kane","Jade","Oxanna"],D=["Lt. Strongarm","Dr. Liang","Cdr. McNeil","Gen. Solomon","Col. Jackson"],b=function(t,n){if("Commander"!==t.building||"Commander"!==n.building||t.faction!==n.faction)throw console.log(t),console.log(n),new Error("Invalid comparison");var i="GDI"===t.faction?D:w,e=i.findIndex((function(n){return n===t.name})),r=i.findIndex((function(t){return t===n.name}));if(-1===e||-1===r)throw new Error("Commander ".concat(t.name," or ").concat(n.name," not found"));return e-r},E=function(){function t(n,i){(0,r.Z)(this,t),this.units=void 0,this.commanders=void 0,this.size=void 0,this.unitsReverseMap=void 0,this.commandersReverseMap=void 0,this.units=f(n.sort(k)),this.commanders=f(i.sort(b)),this.size=d(n.length,6)*i.length;var e=new Map;n.forEach((function(t,n){return e.set(t.name,n)})),this.unitsReverseMap=e,e=new Map,i.forEach((function(t,n){return e.set(t.name,n)})),this.commandersReverseMap=e}return(0,a.Z)(t,[{key:"get",value:function(t){var n=this;if(t<0||t>=this.size)throw new Error("index out of bound: ".concat(t," is not in range [0, ").concat(this.size,")"));var i=Math.floor(t/this.commanders.length),e=t%this.commanders.length,r=function(t,n,i){for(var e=[],r=0;r<t+1;r++){var a=d(t-r-1,n-1);if(i<a){if(e.push(r),(n-=1)<=0)break}else i-=a}return e}(this.units.length,6,i).map((function(t){return n.units[t]})),a=this.commanders[e];return new m(a.faction,a,r)}},{key:"getIndex",value:function(t){var n=this,i=t.units.map((function(t){return n.unitsReverseMap.get(t.name)})).filter((function(t){return void 0!==typeof t})),e=this.commandersReverseMap.get(t.commander.name);if(6!==i.length||void 0===e)throw new Error("invalid deck or not part of this database");return function(t,n){var i=t.length;n-=1;for(var e=0,r=0,a=0;a<i;a++){for(var o=a+1,u=t[a];r<u;)e+=d(n-r,i-o),r+=1;r+=1}return e}(i,this.units.length)*this.commanders.length+e}}]),t}(),I=function(){function t(n){(0,r.Z)(this,t),this.units=void 0,this.commanders=void 0,this.size=void 0,this.dbs=void 0,this.dbs=n;var i=n.reduce((function(t,n){return t+=n.size}),0);this.size=i;var e=[];e.concat.apply(e,(0,h.Z)(this.dbs.map((function(t){return t.units})))),this.units=e;var a=[];a.concat.apply(a,(0,h.Z)(this.dbs.map((function(t){return t.commanders})))),this.commanders=a}return(0,a.Z)(t,[{key:"get",value:function(t){if(t<0||t>=this.size)throw new Error("index out of bound");for(var n=0;t>=this.dbs[n].size;)t-=this.dbs[n].size,n+=1;return this.dbs[n].get(t)}},{key:"getIndex",value:function(t){throw new Error("operation not supported")}}]),t}(),C=function(){function t(){(0,r.Z)(this,t)}return(0,a.Z)(t,[{key:"generateCustom",value:function(t,n,i){if(t.length>0){for(var e=t.map((function(t){return new g(t)})),r=1,a=function(t){var a=n.get(t);try{e.forEach((function(t){t.validateFn(a)&&(t.sampler.next(a),t.count+=1)}))}catch(o){return{v:e.map((function(t){return t.finalizeWithError("Error in ".concat(t.request.name,": ").concat(o))}))}}t/n.size*100>=r&&(void 0!==i&&i(r),r+=1)},o=0;o<n.size;o++){var u=a(o);if("object"===typeof u)return u.v}return void 0!==i&&i(100),e.map((function(t){return t.finalize()}))}return[]}},{key:"generate",value:function(t){throw console.log("cannot call generate() on abstractDeckGenerator"),new Error("cannot call generate() on abstractDeckGenerator")}}]),t}(),S=i(3324),Z=["name","squadSize","unitType","cost","building","speed","faction","rarity","antiInfantry","antiVehicle","antiAir"],x=function(){function t(n){(0,r.Z)(this,t),this.name=void 0,this.faction=void 0,this.building=void 0,this.cost=void 0,this.unitType=void 0,this.rarity=void 0,this.speed=void 0,this.squadSize=void 0,this.antiInfantry=void 0,this.antiVehicle=void 0,this.antiAir=void 0,this.name=n.name,this.faction=n.faction,this.building=n.building,this.cost=n.cost,this.unitType=n.unitType,this.rarity=n.rarity,this.speed=n.speed,this.squadSize=n.squadSize,this.antiInfantry=n.antiInfantry,this.antiVehicle=n.antiVehicle,this.antiAir=n.antiAir;for(var i=0,e=Object.entries(n);i<e.length;i++){var a=(0,S.Z)(e[i],2),o=a[0],u=a[1];Z.includes(o)||(this[o]=u)}}return(0,a.Z)(t,[{key:"isInfantry",value:function(){return"Infantry"===this.unitType}},{key:"isVehicle",value:function(){return"Vehicle"===this.unitType}},{key:"isAir",value:function(){return"Air"===this.unitType}},{key:"isTech",value:function(){return"Tech"===this.building}},{key:"canAttackInfantry",value:function(){return this.antiInfantry>=0}},{key:"canAttackVehicle",value:function(){return this.antiVehicle>=0}},{key:"canAttackAir",value:function(){return this.antiAir>=0}},{key:"strongAgainstInfantry",value:function(){return this.antiInfantry>=1}},{key:"strongAgainstVehicle",value:function(){return this.antiVehicle>=1}},{key:"strongAgainstAir",value:function(){return this.antiAir>=1}},{key:"isSquad",value:function(){return this.squadSize>1}}]),t}(),z=function(t){(0,o.Z)(i,t);var n=(0,u.Z)(i);function i(t,e,a,o){var u;return(0,r.Z)(this,i),(u=n.call(this)).GDI_DECKS=void 0,u.NOD_DECKS=void 0,u.ALL_DECKS=void 0,u.GDI_DECKS=new E(t.map((function(t){return new x(t)})),e.map((function(t){return new x(t)}))),u.NOD_DECKS=new E(a.map((function(t){return new x(t)})),o.map((function(t){return new x(t)}))),u.ALL_DECKS=new I([u.GDI_DECKS,u.NOD_DECKS]),u}return(0,a.Z)(i,[{key:"generate2",value:function(){var t=(0,e.Z)(c().mark((function t(n,i){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0===i){t.next=3;break}return t.next=3,i(0);case 3:return t.abrupt("return",this.generate(n,i));case 4:case"end":return t.stop()}}),t,this)})));return function(n,i){return t.apply(this,arguments)}}()},{key:"generate",value:function(t,n){var i=new Map;t.forEach((function(t,n){i.set(t,n)}));var e=t.filter((function(t){return"GDI"===t.faction})),r=t.filter((function(t){return"Nod"===t.faction})),a=t.filter((function(t){return"random"===t.faction})),o=this.generateCustom(e,this.GDI_DECKS,n),u=this.generateCustom(r,this.NOD_DECKS,n),s=this.generateCustom(a,this.ALL_DECKS,n),c=[];return o.forEach((function(t){c[i.get(t.request)]=t})),u.forEach((function(t){c[i.get(t.request)]=t})),s.forEach((function(t){c[i.get(t.request)]=t})),c}},{key:"generateAsync",value:function(t,n,i){n(this.generate(t,i))}},{key:"cancel",value:function(){throw new Error("cannot cancel")}},{key:"getDeckId",value:function(t){var n="GDI"===t.faction?"gdi":"nod",i="GDI"===t.faction?this.GDI_DECKS.getIndex(t):this.NOD_DECKS.getIndex(t);return"".concat(n,"-").concat(i)}},{key:"getDeck",value:function(t){var n=/^(gdi|nod)-([0-9]+)$/i.exec(t);if(null===n)throw new Error("invalid deckID");var i=n[1],e=parseInt(n[2]);return"gdi"===i?this.GDI_DECKS.get(e):this.NOD_DECKS.get(e)}}]),i}(C);i(8784).Jj(z)}},n={};function i(e){var r=n[e];if(void 0!==r)return r.exports;var a=n[e]={exports:{}};return t[e](a,a.exports,i),a.exports}i.m=t,i.x=function(){var t=i.O(void 0,[594],(function(){return i(1658)}));return t=i.O(t)},function(){var t=[];i.O=function(n,e,r,a){if(!e){var o=1/0;for(h=0;h<t.length;h++){e=t[h][0],r=t[h][1],a=t[h][2];for(var u=!0,s=0;s<e.length;s++)(!1&a||o>=a)&&Object.keys(i.O).every((function(t){return i.O[t](e[s])}))?e.splice(s--,1):(u=!1,a<o&&(o=a));if(u){t.splice(h--,1);var c=r();void 0!==c&&(n=c)}}return n}a=a||0;for(var h=t.length;h>0&&t[h-1][2]>a;h--)t[h]=t[h-1];t[h]=[e,r,a]}}(),i.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(n,{a:n}),n},i.d=function(t,n){for(var e in n)i.o(n,e)&&!i.o(t,e)&&Object.defineProperty(t,e,{enumerable:!0,get:n[e]})},i.f={},i.e=function(t){return Promise.all(Object.keys(i.f).reduce((function(n,e){return i.f[e](t,n),n}),[]))},i.u=function(t){return"static/js/"+t+".d052dd6a.chunk.js"},i.miniCssF=function(t){},i.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},i.p="/",function(){var t={658:1};i.f.i=function(n,e){t[n]||importScripts(i.p+i.u(n))};var n=self.webpackChunkrivals_deck_generator=self.webpackChunkrivals_deck_generator||[],e=n.push.bind(n);n.push=function(n){var r=n[0],a=n[1],o=n[2];for(var u in a)i.o(a,u)&&(i.m[u]=a[u]);for(o&&o(i);r.length;)t[r.pop()]=1;e(n)}}(),function(){var t=i.x;i.x=function(){return i.e(594).then(t)}}();i.x()}();